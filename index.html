<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Magic Tricks with Houdini</title> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style type="text/css">@charset "UTF-8";article,section{display:block}.flowtime,.ft-section{-webkit-transform:translateZ(0)}.ft-page,html{box-sizing:border-box}article,body,div,em,h1,h2,h3,html,li,p,section,strong,ul{background:0 0;border:0;font-size:100%;margin:0;outline:0;padding:0;vertical-align:baseline}body{line-height:1}a{background-color:transparent;font-size:100%;margin:0;padding:0;vertical-align:baseline}ul{list-style:none}.ft-page{overflow:hidden}*,:after,:before{box-sizing:inherit}.flowtime,.ft-section,body,html{width:100%;height:100%}body,html{-webkit-text-size-adjust:none}.flowtime{font-size:0;white-space:nowrap;-webkit-transform-origin:0 0;transform-origin:0 0;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.ft-section{position:relative;transform:translateZ(0);font-size:16px;font-size:1rem;white-space:normal;display:inline-block;vertical-align:top}.ft-page--content:after,.ft-page:after{content:"";display:table;clear:both}html{-ms-text-size-adjust:100%;font-family:'Helvetica Neue',Helvetica,Arial,Roboto,sans-serif;font-size:100%;line-height:1.618em;background:#fdfdfd;color:#323232;font-weight:300}.ft-page{position:relative;z-index:auto;font-size:150%;height:100vh;width:100vw}.ft-page--content{position:relative;top:50%;-webkit-transform:translateY(calc(-50% - 1.5rem));transform:translateY(calc(-50% - 1.5rem));padding:2rem;max-width:67vw;max-height:100vh;margin:0 auto;width:100%}.ft-page--content *+*{margin-top:1rem}.ft-page a{text-decoration:none;background-repeat:repeat-x;background-size:.125em .1875em;background-position:0 1.075em;text-shadow:.0625em .0625em 0 #fdfdfd,-.0625em 0 0 #fdfdfd;color:#d74108;background-image:-webkit-linear-gradient(bottom,#fdfdfd 75%,#d74108 75%);background-image:linear-gradient(to top,#fdfdfd 75%,#d74108 75%)}.ft-page h2,.ft-page h3{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-wrap:break-word}.ft-page ul{list-style:disc;margin-left:1em}.ft-page li{margin-top:.5rem;line-height:1.25rem}.ft-page h1,.ft-page h2,.ft-page h3{text-align:left;font-weight:400;line-height:1.2;margin:1rem 0}.ft-page h1{font-size:3.5em;color:#d74108}.ft-page h2{text-shadow:2px 2px #fdfdfd,-2px -2px #fdfdfd;font-size:2.5em;color:#d74108}.ft-page h3{font-size:2em;color:#d74108}.ft-page .center{text-align:center;margin:0 auto;display:block}[data-state]{background-size:cover}[data-state=cool],[data-state=excited]{background-size:100%;background-position:center;background-repeat:no-repeat;background-color:#000}[data-state=intro]{background-color:#c20030;background:-webkit-linear-gradient(bottom,rgba(194,0,48,0) 10%,rgba(194,0,48,.05) 10%,rgba(194,0,48,.05) 20%,rgba(194,0,48,.1) 20%,rgba(194,0,48,.1) 30%,rgba(194,0,48,.15) 30%,rgba(194,0,48,.15) 40%,rgba(194,0,48,.2) 40%,rgba(194,0,48,.2) 50%,rgba(194,0,48,.3) 50%,rgba(194,0,48,.3) 60%,rgba(194,0,48,.4) 60%,rgba(194,0,48,.4) 70%,rgba(194,0,48,.5) 70%,rgba(194,0,48,.5) 80%,rgba(194,0,48,.6) 80%,rgba(194,0,48,.6) 90%,rgba(194,0,48,.8) 90%),-webkit-linear-gradient(right,rgba(194,0,48,0) 10%,rgba(194,0,48,.05) 10%,rgba(194,0,48,.05) 20%,rgba(194,0,48,.1) 20%,rgba(194,0,48,.1) 30%,rgba(194,0,48,.15) 30%,rgba(194,0,48,.15) 40%,rgba(194,0,48,.2) 40%,rgba(194,0,48,.2) 50%,rgba(194,0,48,.3) 50%,rgba(194,0,48,.3) 60%,rgba(194,0,48,.4) 60%,rgba(194,0,48,.4) 70%,rgba(194,0,48,.5) 70%,rgba(194,0,48,.5) 80%,rgba(194,0,48,.6) 80%,rgba(194,0,48,.6) 90%,rgba(194,0,48,.8) 90%),#da9400;background:linear-gradient(0deg,rgba(194,0,48,0) 10%,rgba(194,0,48,.05) 10%,rgba(194,0,48,.05) 20%,rgba(194,0,48,.1) 20%,rgba(194,0,48,.1) 30%,rgba(194,0,48,.15) 30%,rgba(194,0,48,.15) 40%,rgba(194,0,48,.2) 40%,rgba(194,0,48,.2) 50%,rgba(194,0,48,.3) 50%,rgba(194,0,48,.3) 60%,rgba(194,0,48,.4) 60%,rgba(194,0,48,.4) 70%,rgba(194,0,48,.5) 70%,rgba(194,0,48,.5) 80%,rgba(194,0,48,.6) 80%,rgba(194,0,48,.6) 90%,rgba(194,0,48,.8) 90%),linear-gradient(-90deg,rgba(194,0,48,0) 10%,rgba(194,0,48,.05) 10%,rgba(194,0,48,.05) 20%,rgba(194,0,48,.1) 20%,rgba(194,0,48,.1) 30%,rgba(194,0,48,.15) 30%,rgba(194,0,48,.15) 40%,rgba(194,0,48,.2) 40%,rgba(194,0,48,.2) 50%,rgba(194,0,48,.3) 50%,rgba(194,0,48,.3) 60%,rgba(194,0,48,.4) 60%,rgba(194,0,48,.4) 70%,rgba(194,0,48,.5) 70%,rgba(194,0,48,.5) 80%,rgba(194,0,48,.6) 80%,rgba(194,0,48,.6) 90%,rgba(194,0,48,.8) 90%),#da9400}[data-state=intro] h1{color:#fdfdfd;text-align:right;text-shadow:0 -.005em #111,-.005em 0 #282828,-.005em -.01em #111,-.01em -.005em #282828,-.01em -.015em #111,-.015em -.01em #282828,-.015em -.02em #111,-.02em -.015em #282828,-.02em -.025em #111,-.025em -.02em #282828,-.025em -.03em #111,-.03em -.025em #282828,-.03em -.035em #111,-.035em -.03em #282828,-.035em -.04em #111,-.04em -.035em #282828,-.04em -.045em #111,-.045em -.04em #282828,-.045em -.05em #111,-.05em -.045em #282828,-.05em -.055em #111,-.055em -.05em #282828,-.055em -.06em #111,-.06em -.055em #282828,-.06em -.065em #111,-.065em -.06em #282828,-.065em -.07em #111,-.07em -.065em #282828,-.07em -.075em #111,-.075em -.07em #282828}[data-state=end]{background-color:#323232;background:-webkit-linear-gradient(bottom,rgba(50,50,50,0) 10%,rgba(50,50,50,.05) 10%,rgba(50,50,50,.05) 20%,rgba(50,50,50,.1) 20%,rgba(50,50,50,.1) 30%,rgba(50,50,50,.15) 30%,rgba(50,50,50,.15) 40%,rgba(50,50,50,.2) 40%,rgba(50,50,50,.2) 50%,rgba(50,50,50,.3) 50%,rgba(50,50,50,.3) 60%,rgba(50,50,50,.4) 60%,rgba(50,50,50,.4) 70%,rgba(50,50,50,.5) 70%,rgba(50,50,50,.5) 80%,rgba(50,50,50,.6) 80%,rgba(50,50,50,.6) 90%,rgba(50,50,50,.8) 90%),-webkit-linear-gradient(right,rgba(50,50,50,0) 10%,rgba(50,50,50,.05) 10%,rgba(50,50,50,.05) 20%,rgba(50,50,50,.1) 20%,rgba(50,50,50,.1) 30%,rgba(50,50,50,.15) 30%,rgba(50,50,50,.15) 40%,rgba(50,50,50,.2) 40%,rgba(50,50,50,.2) 50%,rgba(50,50,50,.3) 50%,rgba(50,50,50,.3) 60%,rgba(50,50,50,.4) 60%,rgba(50,50,50,.4) 70%,rgba(50,50,50,.5) 70%,rgba(50,50,50,.5) 80%,rgba(50,50,50,.6) 80%,rgba(50,50,50,.6) 90%,rgba(50,50,50,.8) 90%),#777677;background:linear-gradient(0deg,rgba(50,50,50,0) 10%,rgba(50,50,50,.05) 10%,rgba(50,50,50,.05) 20%,rgba(50,50,50,.1) 20%,rgba(50,50,50,.1) 30%,rgba(50,50,50,.15) 30%,rgba(50,50,50,.15) 40%,rgba(50,50,50,.2) 40%,rgba(50,50,50,.2) 50%,rgba(50,50,50,.3) 50%,rgba(50,50,50,.3) 60%,rgba(50,50,50,.4) 60%,rgba(50,50,50,.4) 70%,rgba(50,50,50,.5) 70%,rgba(50,50,50,.5) 80%,rgba(50,50,50,.6) 80%,rgba(50,50,50,.6) 90%,rgba(50,50,50,.8) 90%),linear-gradient(-90deg,rgba(50,50,50,0) 10%,rgba(50,50,50,.05) 10%,rgba(50,50,50,.05) 20%,rgba(50,50,50,.1) 20%,rgba(50,50,50,.1) 30%,rgba(50,50,50,.15) 30%,rgba(50,50,50,.15) 40%,rgba(50,50,50,.2) 40%,rgba(50,50,50,.2) 50%,rgba(50,50,50,.3) 50%,rgba(50,50,50,.3) 60%,rgba(50,50,50,.4) 60%,rgba(50,50,50,.4) 70%,rgba(50,50,50,.5) 70%,rgba(50,50,50,.5) 80%,rgba(50,50,50,.6) 80%,rgba(50,50,50,.6) 90%,rgba(50,50,50,.8) 90%),#777677;color:#fdfdfd}[data-state=end] a{color:#fdfdfd;text-shadow:none}[data-state]:not([data-state=end]):not([data-state=intro]){color:transparent}[data-state=cool]{background-image:url(/images/cool.gif)}[data-state=excited]{background-size:contain;background-color:#000;background-image:url(/images/excited.gif)}.blink{-webkit-animation:blink 1s steps(5,start) infinite;animation:blink 1s steps(5,start) infinite;-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes blink{to{visibility:hidden}}@keyframes blink{to{visibility:hidden}}</style> <script id="loadcss">!function(e,n){!function(e){"use strict";var n=function(n,t,o){var l,r=e.document,d=r.createElement("link");if(t)l=t;else{var i=(r.body||r.getElementsByTagName("head")[0]).childNodes;l=i[i.length-1]}var s=r.styleSheets;d.rel="stylesheet",d.href=n,d.media="only x",l.parentNode.insertBefore(d,t?l:l.nextSibling);var a=function(e){for(var n=d.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){a(e)})};return d.onloadcssdefined=a,a(function(){d.media=o||"all"}),d};"undefined"!=typeof module?module.exports=n:e.loadCSS=n}("undefined"!=typeof global?global:this);for(var t in e)loadCSS(e[t],n)}(["css/style.css"],document.getElementById("loadcss"));</script> <noscript> <link rel="stylesheet" href="css/style.css"> </noscript> </head> <body> <article class="flowtime"> <section class="ft-section" data-title="Magic Tricks with Houdini"> <div class="ft-page" data-state="intro"> <div class="ft-page--content"> <h1 id="magic-tricks-with-houdini">Magic Tricks with Houdini</h1> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h2>What is the <em>CSS-TAG Houdini Task Force</em>?</h2> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <blockquote> <p>The objective of the CSS-TAG Houdini Task Force (CSS Houdini) is to jointly develop features that explain the ‚Äúmagic‚Äù of Styling and Layout on the web.</p> <footer><cite><a href="https://github.com/w3c/css-houdini-drafts/wiki">CSS Houdini Wiki</a></cite></footer> </blockquote> </div> </div> <div class="ft-page" data-state="magic"> <div class="ft-page--content"> <p>Magic</p> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <p>Practically, though, what does that mean?</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h2>Extending CSS via JS</h2> <p class="ft-fragment">so authors no longer have to wait a decade for standards bodies and browsers to do something new</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h3>But Wait! Can't We Do This Already!</h3> <p class="ft-fragment">PostCSS does this! There are lots of JS libraries that extend CSS already!</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h3>Not Quite</h3> <ul class="ft-fragment"> <li>It's currently not possible to <em>extend</em> CSS with JS, only write JS that mimics CSS</li> <li class="ft-fragment">Actually polyfilling CSS, or introducing new features (like CSS Grids), is hard-to-impossible to do. Doubly so in a way that's not terrible for performance.</li> <li class="ft-fragment">Houdini will let authors <em>tap in to the actual CSS engine</em>, finally allowing them to extend CSS, and do so at CSS Engine speeds</li> </ul> </div> </div> </section> <section class="ft-section"> <div class="ft-page" data-state="cool"> <div class="ft-page--content"> <p>That's Cool</p> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h2 class="blink">WARNING</h2> <p>This is very early days work in progress, nothing more. No compatible implementations exist. What little actually works only really does so in Chrome Canary. This deck will likely break if not viewed there. Syntax and semantics are likely to change. Some of this comes directly from talking with <a href="https://twitter.com/tabatkins">Tab Atkins</a>, and may or may not exist written down outside of this presentation. Terms and conditions apply. Not redeemable for cash. Your mileage may vary.</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <iframe class="full-frame" src="http://ishoudinireadyyet.com/" frameborder="0"></iframe> </div> <div class="ft-page--footnote"> <p><a href="http://ishoudinireadyyet.com/">Is Houdini Ready Yet?</a></p> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h2>Part 1: The Typed OM</h2> <p>(aka CSSOM v2, aka The New Hotness, aka Big CSS)</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <blockquote> <p>Converting CSSOM value strings into meaningfully typed JavaScript representations and back can incur a significant performance overhead. This specification exposes CSS values as typed JavaScript objects to facilitate their performant manipulation.</p> <footer> <cite><a href="https://drafts.css-houdini.org/css-typed-om/">Typed OM Level 1 Working Draft</a></cite> </footer> </blockquote> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p>Typed OM exposes structure, beyond simple strings, for CSS Values. These then can be manipulated and retrieved in a more performant manner.</p> <ul class="ft-fragment"> <li><strong>CSSStyleValue</strong> - Superclass for all CSS Values <ul class="ft-fragment columns"> <li><strong>CSSKeywordValue</strong> - A keyword. For instance, <code>inherit</code></li> <li><strong>CSSNumberValue</strong> - A unitless number. For instance, the value for <code>z-index</code></li> <li><strong>CSSLengthValue</strong> - <em>CSSSimpleLength</em> that has a single unit type (<code>42px</code>) or <em>CSSCalcLength</em> that has multiple units (<code>calc(56em + 10%)</code>)</li> <li><strong>CSSAngleValue</strong> - An angle value. For instance, <code>42deg</code></li> <li><strong>CSSTransformValue</strong> - Value of a <em>transform</em> property as a list of <em>CSSTransformComponent</em>s. For instance, <code>transform: translate(10px) rotate(45deg)</code> would contain a <code>CSSTranslation</code> and <code>CSSRotation</code> CSSTransformComponent</li> <li><strong>CSSPositionValue</strong> - A position value. For instance, the value for <code>background-position</code></li> <li><strong>CSSResourceValue</strong> - A CSS value that may require async network fetch before being usable. Provides <code>unloaded</code>, <code>loading</code>, <code>loaded</code>, and <code>error</code> states</li> <li><strong>CSSImageValue</strong> - Values that take images. For instance, <code>background-image</code> Subclass of CSSResourceValue</li> <li><strong>CSSFontFaceValue</strong> - A font face that can be used to render text. Subclass of CSSResourceValue</li> </ul></li> </ul> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <pre><code class="language-scss">.example {
  background-position: center bottom 10px;
}</code></pre> <pre><code class="language-javascript">var example = document.querySelector('.example');

// center bottom 10px
getComputedStyleMap(example).get('background-position').cssText;
// example.styleMap for inline styles

// 50% - as a CSSSimpleLength
getComputedStyleMap(example).get('background-position').x;

// calc(100% - 10px) - as a CSSCalcLength
getComputedStyleMap(example).get('background-position').y;</code></pre> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p>The <strong>Typed OM</strong> is the underlying foundation to which all of Houdini is based. It's our next-generation CSS Object Model (CSSOM). It's Houdini's <em>Secret Sauce</em>.</p> </div> </div> <div class="ft-page" data-state="secret-sauce"> <div class="ft-page--content"> Secret Sauce </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>Yah, But What Can I <em>DO</em> With This?</h3> <p>Some <em>pretty rad stuff</em></p> </div> </div> <div class="ft-page" data-state="rad"> <div class="ft-page--content"> Rad </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h2>Part 2: The Cool Custom Stuff</h2> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p>Please allow me to introduce you to <span class="blink">.</span><span class="blink-2">.</span><span class="blink-3">.</span></p> <h2 class="ft-fragment"><code class="language-scss">window.CSS</code></h2> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>CSS Custom Properties</h3> <p><em>Make Em Smarter!</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>Current Situation</strong></p> <pre><code class="language-scss">.thing {
  --my-color: green;
  --my-color: url('not-a-color'); // Sad!
  color: var(--my-color);
}
</code></pre> <div class="ft-fragment"> <p><strong>But Then</strong></p> <pre><code class="language-javascript">window.CSS.registerProperty({
  name: '--my-color',
  syntax: '&lt;color&gt;' // Now it's def a color. That `url` junk is skipped!
});</code></pre> </div> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h4>A Wild Animation Appeared!</h4> <div class="half"> <pre><code class="language-javascript">window.CSS.registerProperty({
  name: '--registered-color',
  syntax: '<color>',
  inherits: false,
  initialValue: 'rebeccapurple',
});
</color></code></pre> </div> <div class="half ft-fragment"> <pre><code class="language-scss" contenteditable>.registered-demo {
  --registered-color: #c0ffee;
  background: var(--registered-color);
  transition: background 1s;
}

.registered-demo:hover {
  --registered-color: #bada55;
}</code></pre> </div> <button class="registered-demo ft-fragment">This is registered!</button> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>CSS Paint API</h3> <p><em>Draw, in CSS, but, like, for real</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <ul> <li>Ever wanted to use <code>canvas</code> as a background in CSS?</li> <li class="ft-fragment">With the styling flexibility of an element?</li> <li class="ft-fragment">And the scalability of SVG?</li> </ul> <p class="ft-fragment"><strong>That's what the Paint API does</strong></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>Define</strong> - <code>js/circle.js</code></p> <pre><code class="language-javascript">registerPaint('circle', class {
  static get inputProperties() { return ['--circle-color']; }
  paint(ctx, geom, properties) {
    // Change the fill color.
    const color = properties.get('--circle-color').cssText;
    ctx.fillStyle = color;

    // Determine the center point and radius.
    const x = geom.width / 2;
    const y = geom.height / 2;
    const radius = Math.min(x, y);

    // Draw the circle \o/
    ctx.beginPath();
    ctx.arc(x, y, radius, 0, 2 * Math.PI);
    ctx.fill();
  }
});</code></pre> <div class="ft-fragment"> <p><strong>Import</strong></p> <pre><code class="language-javascript">window.paintWorklet.import('js/circle.js');</code></pre> </div> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>Use</strong></p> <pre><code class="language-scss" contenteditable>textarea.painted {
  --circle-color: #f00;
  background-image: paint(circle);
}</code></pre> <textarea class="painted">
  CSS is awesome.
</textarea> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>CSS Animation API</h3> <p><em>Yo dawg, I heard you like parallax</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <ul> <li>Listen for user input, like scroll events!</li> <li class="ft-fragment">Style elements, based on that user input</li> <li class="ft-fragment">Do it all off of the main thread!</li> </ul> <p class="ft-fragment"><strong>Animation API: Make Parallax Perform</strong></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>A Little JS</strong></p> <pre><code class="language-javascript">registerAnimator('sticky-resize', class {
  static get inputProperties() { return ['--part']; }
  static get outputProperties() { return ['opacity', 'transform']; }
  static get inputTime() { return true; }
  static get rootInputScroll() { return true; }

  animate(root, children, timeline) {
    let scroll = root.scrollOffsets.top / (189 - 45);

    if (scroll > 1) {
      scroll = 1;
    }

    children.forEach(elem => {
      const part = elem.styleMap.get('--part');
      if (part == 'avatar') {
      	const t = elem.styleMap.transform;

      	t.m11 = 1 - 0.6 * scroll;
      	t.m22 = 1 - 0.6 * scroll;
      	t.m41 = -scroll * 45*0.6;

      	if(root.scrollOffsets.top > 189 - 45 * 0.6) {
      	  t.m42 = root.scrollOffsets.top - (189 - 45 * 0.6) + 45;
      	} else {
      	  t.m42 = 45;
      	}

      	elem.styleMap.transform = t;
      } else if (part == 'bar') {
      	const t = elem.styleMap.transform;

      	t.m42 = root.scrollOffsets.top;

      	elem.styleMap.transform = t;
      	elem.styleMap.opacity = scroll;
      }
    });
  }
});</code></pre> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h4>A Little CSS</h4> <div class="half"><pre><code class="language-scss">#scroller {
  --animator-root: sticky-resize;
}
.avatar {
  --animator: sticky-resize;
  --part: avatar;
}
.bar {
  --animator: sticky-resize;
  --part: bar;
}</code></pre></div> <div class="half"><pre><code class="language-markup">&lt;div id="scroller"&gt;
  &lt;section class="bar"&gt;&lt;/section&gt;
  &lt;header&gt;
    &lt;picture class="avatar"&gt;
      &lt;img src="avatar.jpg"&gt;
    &lt;/picture&gt;
    &lt;section class="profile-controls"&gt;
      &lt;button&gt;Friends&lt;/button&gt;
      &lt;button&gt;Edit Profile&lt;/button&gt;
    &lt;/section&gt;
  &lt;/header&gt;
  &lt;section class="profile"&gt;
    Surma
    @DasSurma
  &lt;/section&gt;
  &lt;section class="content"&gt;
    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. &lt;/p&gt;
    &lt;p&gt;Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non, massa. &lt;/p&gt;
    &lt;p&gt;Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus, ullamcorper vel, tincidunt sed, euismod in, nibh. Quisque volutpat condimentum velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis, tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi. Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat imperdiet. Vestibulum sapien. &lt;/p&gt;
    &lt;p&gt;Proin quam. Etiam ultrices. Suspendisse in justo eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna. Quisque cursus, metus vitae pharetra auctor, sem massa mattis sem, at interdum magna augue eget diam. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi lacinia molestie dui. Praesent blandit dolor. Sed non quam. In vel mi sit amet augue congue elementum. Morbi in ipsum sit amet pede facilisis laoreet. Donec lacus nunc, viverra nec, blandit vel, egestas et, augue. Vestibulum tincidunt malesuada tellus. Ut ultrices ultrices enim. &lt;/p&gt;
    &lt;p&gt;Curabitur sit amet mauris. Morbi in dui quis est pulvinar ullamcorper. Nulla facilisi. Integer lacinia sollicitudin massa. Cras metus. Sed aliquet risus a tortor. Integer id quam. Morbi mi. Quisque nisl felis, venenatis tristique, dignissim in, ultrices sit amet, augue. Proin sodales libero eget ante. Nulla quam. Aenean laoreet. Vestibulum nisi lectus, commodo ac, facilisis ac, ultricies eu, pede. &lt;/p&gt;
  &lt;/section&gt;
&lt;/div&gt;</code></pre> </div> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <iframe src="http://googlechrome.github.io/houdini-samples/animation-worklet/twitter-header/" class="twitter" frameborder="0"></iframe> </div> <div class="ft-page--footnote"> <p><a href="http://googlechrome.github.io/houdini-samples/">Animation Worklet demo</a></p> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>CSS Layout API</h3> <p><em>JavaScript powered layouts, without being terrible to your users</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <ul> <li>Literally, make your own <code>display</code> properties</li> <li class="ft-fragment">Polyfill that awesome new layout spec you love!</li> <li class="ft-fragment">Everyone likes a good Masonry layout, add one without a performance hit!</li> </ul> </div> <div class="ft-page--footnote"> <p>this spec is crazy complicated and I don‚Äôt quite understand the whole thing yet</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>Define</strong></p> <pre><code class="language-javascript">registerLayout('masonry', class {
  static get inputProperties() {
    return ['width', 'height']
  }
  static get childrenInputProperties() {
    return ['x', 'y', 'position']
  }
  layout(children, constraintSpace, styleMap, breakToken) {
    // Magic layout logic goes here.
  }
});</code></pre> <div class="ft-fragment"> <p><strong>Then Use</strong></p> <pre><code class="language-scss">.article {
  display: layout('masonry');
}</code></pre> </div> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>CSS Parser API</h3> <p><em>The browser's better at parsing CSS than you</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <ul> <li>Built on the <code>TypedOM</code></li> <li class="ft-fragment">Parse CSS-like strings in to objects to work with in JS</li> <li class="ft-fragment">Extend what the CSS parser understands, for polyfilling</li> </ul> </div> <div class="ft-page--footnote"> <p>This spec has just <em>barely</em> started to get spec‚Äôd out</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <pre><code class="language-javascript">const background = window.cssParse.rule('background: green');
console.log(background.styleMap.get('background').value) // green</code></pre> <pre class="ft-fragment"><code class="language-javascript">const styles = window.cssParse.ruleSet(".foo { background: green; margin: 5px; }");
console.log(styles.length) // 5
console.log(styles[0].styleMap.get("margin-top").value) // 5
console.log(styles[0].styleMap.get("margin-top").type) // "px"</code></pre> </div> </div> </section> <section class="ft-section"> <div class="ft-page"> <div class="ft-page--content"> <h3>Custom At-Rules</h3> <p><em>Did someone say Element Queries? I swear someone said Element Queries</em></p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p>So, I have one good use-case for creating custom at-rules: <a href="https://github.com/Snugug/eq.js">Element Queries</a>. It's very unlikely we'll get them natively, for a large variety of reasons, but custom at-rules will let us have them at native CSS Engine speed. In theory. Other use cases, <em>and I'm speculating here</em>, could include porting CSS Preprocessor goodies like control directives, mixins, and extends to CSS.</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <h2 class="blink">WARNING</h2> <p>This <em>literally</em> doesn't have a spec yet. You'll find some mention of custom at-rules here and there, but no one's gotten around to actually writing out the draft proposal yet. This is entirely based on a conversation and some sample code that Tab Atkins wrote for me at SassConf 2015. I've updated the sample code based on what the current specs look like, so it's just as likely to be correct as not. <strong>You Have Been Warned</strong>.</p> </div> </div> <div class="ft-page"> <div class="ft-page--content"> <p><strong>Define</strong></p> <pre><code class="language-javascript">window.CSS.registerAtRule({
  name: '--eq',
  callback: eqjs, // Callback to do stuff
  grammar: { // Hard to tell if needs to be this or `declarations`.
    stylesheet: true,
  },
});</code></pre> <div class="ft-fragment"> <p><strong>Then Use</strong></p> <pre><code class="language-scss">.component {
  @--eq (min-width: 500px) { // I `think` this should work.
    background: green;
  }
}</code></pre> </div> </div> <div class="ft-page--footnote"> <p><a href="https://github.com/tabatkins/parse-css#canonicalizing-against-a-grammar">Grammar Definitions</a></p> </div> </div> </section> <section class="ft-section"> <div class="ft-page" data-state="excited"> <div class="ft-page--content"> Get Excited </div> </div> <div class="ft-page" data-state="magic-out"> <div class="ft-page--content"> Magic is coming to the browser </div> </div> </section> <section class="ft-section"> <div class="ft-page" data-state="end"> <div class="ft-page--content"> <h1 class="center">üëç</h1> <p class="center"> <strong class="lowercase">http://snugug.github.io/magic-tricks-with-houdini</strong> </p> <ul> <li><a href="https://www.smashingmagazine.com/2016/03/houdini-maybe-the-most-exciting-development-in-css-youve-never-heard-of/">Houdini: Maybe The Most Exciting Development In CSS You‚Äôve Never Heard Of</a></li> <li><a href="https://drafts.css-houdini.org/">CSS Houdini Drafts</a></li> <li><a href="https://github.com/w3c/css-houdini-drafts">CSS Houdini Drafts - GitHub</a></li> <li><a href="https://github.com/googlechrome/houdini-samples">Houdini Samples</a></li> <li><a href="https://drafts.css-houdini.org/css-typed-om/">CSS Typed OM Level 1</a></li> <li><a href="https://drafts.csswg.org/css-syntax/#parser-entry-points">CSS Syntax Module Level 3, Parser Entry Points</a></li> <li><a href="https://github.com/WICG/CSS-Parser-API">CSS Parser API</a></li> <li><a href="https://twitter.com/snugug">@snugug</a> (that's me!)</li> </ul> <br> </div> </div> </section> </article> <script src="js/app.js"></script> </body> </html> 